<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<routes xmlns="http://camel.apache.org/schema/spring">
    <route id="test-route">
        <from id="from" uri="direct:test"/>
        <process id="clj_camel.split_test$processor1"/>
        <to id="http" uri="http://test-http"/>
        <split id="split-id" parallelProcessing="true" streaming="true">
            <jsonpath>$.data.*</jsonpath>
            <process id="dummy-process-1"/>
            <filter id="filter-id">
                <expressionDefinition>clj_camel.core$predicate</expressionDefinition>
                <log id="log" message="Filtered ... ${body}"/>
                <to id="result" uri="direct:result"/>
            </filter>
        </split>
        <process id="dummy-process-2"/>
    </route>
</routes>
